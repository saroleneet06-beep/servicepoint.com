<!doctype html>
<html lang="mr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>विहीर / बोअरवेल अर्ज - AutoFill (3 Page)</title>

<!-- Marathi font -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&display=swap" rel="stylesheet">

<!-- html2pdf for PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
:root{--green:#0a7a21;--muted:#f3f6f8;--card:#fff}
body{font-family:"Noto Sans Devanagari",sans-serif;background:var(--muted);margin:0;padding:22px;color:#111}
.container{max-width:1024px;margin:0 auto}
.topbar{display:flex;align-items:center;gap:14px}
.tab{background:#222;color:#fff;padding:12px 18px;border-radius:8px;font-weight:700}
.cta{margin-left:auto}
.btn{background:var(--green);color:#fff;padding:10px 14px;border:none;border-radius:8px;cursor:pointer;font-weight:700}
.btn.grey{background:#6c757d}
.card{background:var(--card);padding:18px;border-radius:10px;box-shadow:0 6px 22px rgba(0,0,0,0.06);border:1px solid #e0e0e0;margin-top:18px}
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
label{font-weight:700;margin-bottom:6px;display:block}
input[type=text], textarea{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid #cfcfcf;
    font-size:15px;
    font-family:"Noto Sans Devanagari",sans-serif;
    box-sizing:border-box;
}
.full{grid-column:1/-1}
.actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}
.msg{color:#b00020;margin-top:8px;font-weight:600}

.preview-wrapper{display:flex;flex-direction:column;gap:16px;align-items:center}
.page{
    width:794px;
    background:#fff;
    padding:36px;
    border:1px solid #000;
    box-sizing:border-box;
    border-radius:6px;
    white-space:pre-wrap;
    font-size:18px;
    line-height:1.6;
}
.inline-actions{display:flex;gap:8px;justify-content:flex-end;align-items:center;margin-top:12px}

@media print{
  body>*:not(.print-area){display:none!important}
  .page{box-shadow:none;border:none; margin:0; width:auto}
}
/* --- FIX PRINT BLANK ISSUE --- */
@media print {

  /* बाकी सब hide */
  body * {
    visibility: hidden !important;
  }

  /* केवल प्रिंट वाला एरिया visible */
  .print-area, .print-area * {
    visibility: visible !important;
  }

  /* पेज को full width दो */
  .print-area .page {
    width: 100% !important;
    margin: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* print-area को top पर लाओ */
  .print-area {
    position: absolute !important;
    left: 0;
    top: 0;
    width: 100% !important;
  }
}

</style>
</head>
<body>
<div class="container">

  <div class="topbar">
    <div class="tab">विहीर / बोअरवेल</div>
    <div class="cta">
      <button id="openFormBtn" class="btn">कृपया अर्ज भरा</button>
    </div>
  </div>

  <div id="formCard" class="card" style="display:none">
    <h2 style="margin:0 0 8px">अर्ज भरणे (फॉर्म)</h2>
    <div style="color:#444;margin-bottom:12px">सर्व आवश्यक फील्ड भरा — आणि Marathi मध्ये टाका.</div>

    <div class="form-grid">

      <div>
        <label>दिनांक (मॅन्युअल)</label>
        <input id="f_DATE" type="text" placeholder="उदा. 12/02/2025">
      </div>

      <div>
        <label>मो. क्रमांक (१० अंक)</label>
        <input id="f_MOBILE" type="text" maxlength="10" placeholder="९८७६५४३२१०" inputmode="numeric">
      </div>

      <div class="full">
        <label>ग्राममहसूल अधिकारी सज्ज्जा</label>
        <input id="f_SADJA" type="text" placeholder="उदा. ग्राममहसूल अधिकारी सज्ज्जा ——">
      </div>

      <div>
        <label>तालुका</label>
        <input id="f_TA" type="text" placeholder="तालुका">
      </div>

      <div>
        <label>जिल्हा</label>
        <input id="f_JI" type="text" placeholder="जिल्हा">
      </div>

      <div class="full">
        <label>सर्वे / गट क्र.</label>
        <input id="f_GAT" type="text" placeholder="सर्वे/गट क्र">
      </div>

      <div class="full">
        <label>शेतशिवार</label>
        <input id="f_SHET" type="text" placeholder="शेतशिवार">
      </div>

      <div class="full">
        <label>अर्जदाराचे नाव</label>
        <input id="f_NAME" type="text" placeholder="अर्जदाराचे पूर्ण नाव">
      </div>

    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:14px">
      <div style="font-size:14px;color:#666">भरल्यावर पुढे जाऊन Preview पाहा.</div>
      <div>
        <button id="fillBtn" class="btn">Fill & Preview</button>
        <button id="cancelFill" class="btn grey" style="margin-left:8px">Cancel</button>
      </div>
    </div>

    <div id="formMsg" class="msg" style="display:none"></div>
  </div>

  <div id="previewCard" class="card" style="display:none">
    <h2 style="margin:0 0 8px">Preview — अर्ज (Page 1..3)</h2>

    <div id="previewWrapper" class="preview-wrapper print-area"></div>

    <div class="inline-actions">
      <button id="submitBtn" class="btn" style="display:none">Submit</button>
      <button id="printBtn" class="btn" style="background:#0b5ed7; display:none">Print</button>
      <button id="pdfBtn" class="btn grey" style="display:none">PDF</button>
      <button id="backBtn" class="btn grey" style="display:none">Cancel</button>
    </div>

    <div id="submitMsg" style="margin-top:10px;color:green;display:none">
      अर्ज यशस्वीरीत्या सबमिट झाला.
    </div>
  </div>

  <!-- PAGE TEMPLATES SAME -->
  <template id="tplPage">
<div class="page">
                                                                                      दिनांक {{DATE}}

                                       विहीर / बोअर ची नोंद घेण्यासाठीचा अर्ज
प्रती,
     मा.ग्राममहसूल अधिकारी,
     ग्राममहसूल अधिकारी सज्ज्जा {{SADJA}}
     तालुका {{TA}}    जिल्हा {{JI}}

                  विषय :- विहीर / बोअरवेल चो नोंद घेणे बाबत.
महोदय,
       वरील विषयी विनंतीपूर्वक अर्ज सादर करण्यात येतो कि, मी माझ्या मालकीच्या सर्वे/गट क्र {{GAT}} शेतशिवार {{SHET}} तालुका {{TA}} जिल्हा {{JI}} मध्ये विहीर/बोअरवेल पाडली आहे. सदर विहिरीची / बोअरवेलची मालकी स्वतंत्र/सामाईक आहे.
त्याची चतु:सिमा खालील प्रमाणे दिलेली आहे.
       पूर्वेस   :- ______________________________________
       पश्चिम   :- _________________________________________
       दक्षिणेस  :- ________________________________________
        उत्तरेस     :- _______________________________________
वरील प्रमाणे दर्शविलेल्या चतु:सिमेमध्ये मी विहीर / बोअरवेल पाडली आहे. त्याची नोंद 7/12 उताऱ्यावर घेण्यात यावी. सदर विहीर / बोअरवेल शासकीय योजनेतून / स्वखर्चातून पाडली आहे.
वरील माहिती खोटी आढळून आल्यास मी स्वतः जबाबदार राहील.

                                                                 अर्जदार नाव {{NAME}}
                                                                  मो. क्र :- {{MOBILE}}
</div>
  </template>

  <template id="tplPage2">
<div class="page">
                                                   पंचनामा

आम्ही खालील सह्या करणारे लोक शेतशिवार {{SHET}} तालुका {{TA}} जिल्हा {{JI}}
येथील असुन ग्राममहसूल अधिकारी सज्ज्जा {{SADJA}} यांनी बोलण्यावरून ग्राममहसूल अधिकारी कार्यालय/ग्रामपंचायत कार्यालयामध्ये उपस्थीत झालो. त्यांनी आमचे सक्षम वारसा/खरेदी/वाटणी व इतर फेर क्र____________
बाबत जाहीर नोटीस यमुना नं. 09 मध्ये लिहलेल्या मजकूर वाचून दाखविला.

दिनांक {{DATE}}

अ.क्र.    पंचांचे नाव       सही
1. _________________________
2. _________________________
3. _________________________
4. _________________________
5. _________________________

                                                                           ग्राममहसूल अधिकारी
</div>
  </template>

  <template id="tplPage3">
<div class="page">
                                            जाहीर प्रगटन

शेतशिवार {{SHET}} तालुका {{TA}} जिल्हा {{JI}}
यांना जाहीर प्रगटनाद्वारे कळविण्यात येते की, अर्जदार नाव {{NAME}} यांनी दिनांक {{DATE}} रोजी अर्ज देऊन कळविले की, त्यांनी सर्वे/गट क्र {{GAT}} शेतशिवार {{SHET}} तालुका {{TA}} जिल्हा {{JI}}
मध्ये विहीर/बोअरवेल शासकीय/खाजगी योजनेतून खोदली/पाडली आहे. त्या विहिरीवर बोअरवेलवर 
मालकी खालील प्रमाणे आहे.
1)
2)
3)

वरील प्रमाणे मालक आहेत. त्याची फेरफारला नोंद घेण्यात आली असून त्याचा क्र {{GAT}} हा आहे. सदर फेरफार क्रमांकावर _____________ कोणाचा आक्षेप अथवा उजर असल्यास जाहीर प्रगतनाच्या प्रसिद्धी तारखेपासून 15 दिवसांच्या आत ग्राममहसूल अधिकारी सज्ज्जा {{SADJA}} यांच्याकडे लेखी स्वरुपात कळवावे. मुदतीच्या आत आक्षेप न आल्यास कोणाचे काही म्हणणे नाही, असे गृहीत धरून फे.क्र. ____________.नोंद निकाली काढण्यात येईल. मुदती नंतर आलेल्या आक्षेप अर्जाचा विचार केला जाणार नाही. याची संबंधितांनी नोंद घ्यावी.

दिनांक {{DATE}}

पंचांच्या           सह्या 
1) _________________________
2) _________________________
3) _________________________
4) _________________________
5) _________________________

                                                                     ग्राममहसूल अधिकारी सही
</div>
  </template>

</div>

<script>

/* DOM refs */
const openFormBtn = document.getElementById('openFormBtn');
const formCard = document.getElementById('formCard');
const previewCard = document.getElementById('previewCard');
const fillBtn = document.getElementById('fillBtn');
const cancelFill = document.getElementById('cancelFill');
const formMsg = document.getElementById('formMsg');
const previewWrapper = document.getElementById('previewWrapper');

openFormBtn.addEventListener('click', ()=> {
  formCard.style.display = formCard.style.display === 'none' ? 'block' : 'none';
  previewCard.style.display = 'none';
  formMsg.style.display = 'none';
  document.getElementById('submitMsg').style.display='none';
  window.scrollTo({top: formCard.offsetTop-20, behavior:'smooth'});
});

cancelFill.addEventListener('click', ()=> {
  formCard.style.display = 'none';
});

/* Fill & Preview */
fillBtn.addEventListener('click', ()=> {

  formMsg.style.display = 'none';

  const DATA = {
    '{{DATE}}': document.getElementById('f_DATE').value.trim(),
    '{{SADJA}}': document.getElementById('f_SADJA').value.trim(),
    '{{TA}}': document.getElementById('f_TA').value.trim(),
    '{{JI}}': document.getElementById('f_JI').value.trim(),
    '{{GAT}}': document.getElementById('f_GAT').value.trim(),
    '{{SHET}}': document.getElementById('f_SHET').value.trim(),
    '{{NAME}}': document.getElementById('f_NAME').value.trim(),
    '{{MOBILE}}': document.getElementById('f_MOBILE').value.trim()
  };

  if(!DATA['{{SADJA}}']||!DATA['{{TA}}']||!DATA['{{JI}}']||!DATA['{{GAT}}']||!DATA['{{SHET}}']||!DATA['{{NAME}}']){
    formMsg.innerText = 'कृपया सर्व अनिवार्य फील्ड (सज्ज्जा, तालुका, जिल्हा, गट क्र, शेतशिवार, अर्जदार नाव) भरा.';
    formMsg.style.display = 'block';
    return;
  }
  if(DATA['{{MOBILE}}'] && !/^[0-9]{10}$/.test(DATA['{{MOBILE}}'])) {
    formMsg.innerText = 'मोबाईल १० अंकी नाही. कृपया १० अंकी नंबर द्या किंवा रिकामे सोडा.';
    formMsg.style.display = 'block';
    return;
  }

  previewWrapper.innerHTML = '';

  const tpl1 = document.getElementById('tplPage').innerHTML;
  const tpl2 = document.getElementById('tplPage2').innerHTML;
  const tpl3 = document.getElementById('tplPage3').innerHTML;

  function apply(data, str) {
    for(const k in data) str = str.split(k).join(data[k] || '');
    return str;
  }

  previewWrapper.insertAdjacentHTML('beforeend', apply(DATA, tpl1));
  previewWrapper.insertAdjacentHTML('beforeend', apply(DATA, tpl2));
  previewWrapper.insertAdjacentHTML('beforeend', apply(DATA, tpl3));

  formCard.style.display = 'none';
  previewCard.style.display = 'block';

  document.getElementById('submitBtn').style.display='inline-block';
  document.getElementById('printBtn').style.display='inline-block';
  document.getElementById('pdfBtn').style.display='inline-block';
  document.getElementById('backBtn').style.display='inline-block';

  window.scrollTo({top: previewCard.offsetTop-20, behavior:'smooth'});
});

/* CANCEL → FORM */
document.getElementById('backBtn').addEventListener('click', ()=>{
  previewWrapper.innerHTML = '';
  previewCard.style.display = 'none';
  formCard.style.display = 'block';
  document.getElementById('submitMsg').style.display='none';
});

/* PRINT FIXED */
document.getElementById('printBtn').addEventListener('click', ()=> {
  window.print();
});

/* PDF */
document.getElementById('pdfBtn').addEventListener('click', ()=> {
  html2pdf().from(previewWrapper).save('filled_vihir.pdf');
});

/* SUBMIT */
document.getElementById('submitBtn').addEventListener('click', ()=> {
  document.getElementById('submitMsg').style.display='block';
});

</script>

</body>
</html>
